//-----------  Imports  -----------//

import { takeEvery }               from 'redux-saga'
import { put, take, call, select } from 'redux-saga/effects'

import { RSF }                     from 'modules/helpers'

import { {{ constantCase name }}, sagaActions }       from './actions'

//-----------  Sagas  -----------//

function* sync{{ titleCase name }}Saga(){
  const channel = yield call(RSF.channel, '{{ lowerCase name }}')

  while(true){
    const data = yield take(channel)

    if (data) yield put(sagaActions.success(data))
    else yield put(sagaActions.failure())
  }
}


//-----------  Watchers  -----------//

export default function* {{ lowerCase name }}Sagas(){
  yield [
    takeEvery({{ constantCase name }}.SYNC, sync{{ titleCase name }}Saga)
  ]
}
